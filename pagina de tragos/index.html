<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VLACK Traguitos ğŸ¹</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>ğŸ¹ VLACK TRAGOS</h1>
    <div class="cart-icon" onclick="openCart()" title="Ver carrito">ğŸ›’<span id="cartCount">0</span></div>
</header>

<!-- ğŸ”¥ NAV BAR -->
<nav class="nav-bar">
    <button onclick="mostrarSeccion('tragos')">ğŸ¸ Tragos</button>
    <button onclick="mostrarSeccion('promos')">â­ Promos</button>
    <button onclick="mostrarSeccion('comidas')">ğŸ• Comidas</button>
</nav>

<!-- ğŸ“¦ DONDE SE CARGAN LOS PRODUCTOS -->
<section class="drink-list" id="drinkList">
    <div style="grid-column: 1/-1; text-align: center; padding: 40px; color: #0f0;">
        <p style="font-size: 18px; animation: softPulse 2s infinite;">Cargando productos...</p>
    </div>
</section>

<!-- DEBUG: recargar manualmente desde la UI -->
<div style="position:fixed; left:10px; bottom:10px; z-index:999;">
    <button onclick="(function(){ console.log('Debug reload'); if(window.mostrarSeccion) { mostrarSeccion('tragos'); } if(window.debugShowArrays) window.debugShowArrays(); })()" style="background: linear-gradient(135deg, #666 0%, #999 100%); color: white; padding: 10px 15px; border: none; border-radius: 20px; cursor: pointer; font-size: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.4);">ğŸ”„ Recargar</button>
</div>

<!-- ğŸ›’ MODAL DEL CARRITO -->
<div id="cartModal" class="cart-modal">
    <div class="cart-content">
        <span class="close" onclick="closeCart()" title="Cerrar carrito">âœ–</span>
        <h2>ğŸ›’ Tu Pedido</h2>

        <ul id="cartItems"></ul>
        
        <div style="background: rgba(0, 255, 0, 0.1); border: 1px solid rgba(0, 255, 0, 0.3); border-radius: 8px; padding: 12px; margin: 15px 0;">
            <p style="font-size: 13px; color: #0f0; margin: 0; font-weight: 600;">
                Desliza para eliminar un producto
            </p>
        </div>

        <div style="background: rgba(0, 0, 0, 0.4); border-radius: 10px; padding: 15px; margin: 20px 0;">
            <p style="margin: 0; font-size: 18px; color: #0f0; font-weight: 900;">
                ğŸ’° Total: $<span id="cartTotal">0</span>
            </p>
        </div>

        <h3>ğŸ’³ Forma de pago</h3>
        <select id="paymentMethod">
            <option>ğŸ’µ Efectivo</option>
            <option>ğŸ¦ Transferencia</option>
        </select>

        <h3>ğŸš— Â¿Retirar o EnvÃ­o?</h3>
        <select id="deliveryMethod" onchange="toggleDeliveryFields()">
            <option>ğŸ“ Retiro en el lugar</option>
            <option>ğŸšš EnvÃ­o a domicilio</option>
        </select>

        <div id="deliveryFields" style="display:none;">
            <input type="text" id="direccion" placeholder="ğŸ“¬ DirecciÃ³n">
            <input type="text" id="telefono" placeholder="ğŸ“± TelÃ©fono">
        </div>

        <button id="finalizarCompra" onclick="finalizarPedido()">âœ“ FINALIZAR COMPRA</button>
    </div>
</div>

<!-- âš¡ ORDEN CORRECTO DE SCRIPTS -->
<script type="module" src="firebase.js"></script>
<script type="module" src="script.js"></script>

</body>
</html>